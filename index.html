<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü–æ–≥–æ–¥–∞ –≤ –ö–∏—Ç–∞–µ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        .container {
            max-width: 800px;
            width: 100%;
        }
        h1 {
            color: white;
            text-align: center;
            margin-bottom: 30px;
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }
        .weather-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }
        .city-card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }
        .city-card:hover {
            transform: translateY(-5px);
        }
        .city-name {
            font-size: 1.8em;
            color: #333;
            margin-bottom: 15px;
            font-weight: 600;
        }
        .temp {
            font-size: 3em;
            color: #667eea;
            font-weight: bold;
            margin: 10px 0;
        }
        .description {
            font-size: 1.1em;
            color: #666;
            text-transform: capitalize;
            margin-bottom: 10px;
        }
        .feels-like {
            font-size: 0.95em;
            color: #888;
            margin-bottom: 5px;
        }
        .comfort {
            font-size: 1em;
            color: #764ba2;
            font-weight: 500;
            margin-bottom: 15px;
        }
        .details {
            display: flex;
            justify-content: space-between;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid #eee;
        }
        .detail-item {
            text-align: center;
        }
        .detail-label {
            font-size: 0.85em;
            color: #999;
            margin-bottom: 5px;
        }
        .detail-value {
            font-size: 1.1em;
            color: #333;
            font-weight: 500;
        }
        .loading {
            text-align: center;
            color: white;
            font-size: 1.2em;
        }
        .error {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            color: #e74c3c;
        }
        .update-time {
            text-align: center;
            color: rgba(255,255,255,0.8);
            margin-top: 20px;
            font-size: 0.9em;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üå§Ô∏è –ü–æ–≥–æ–¥–∞ –≤ –ö–∏—Ç–∞–µ</h1>
        <div id="weather-container" class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ–≥–æ–¥—ã...</div>
        <div class="update-time" id="update-time"></div>
    </div>

    <script>
        const cities = [
            { name: '–ü–µ–∫–∏–Ω', lat: 39.9042, lon: 116.4074 },
            { name: '–®–∞–Ω—Ö–∞–π', lat: 31.2304, lon: 121.4737 },
            { name: '–ì—É–∞–Ω—á–∂–æ—É', lat: 23.1291, lon: 113.2644 }
        ];

        async function getWeather(city) {
            const url = `https://api.open-meteo.com/v1/forecast?latitude=${city.lat}&longitude=${city.lon}&current=temperature_2m,apparent_temperature,relative_humidity_2m,wind_speed_10m,weather_code&timezone=Asia/Shanghai`;
            
            const response = await fetch(url);
            const data = await response.json();
            
            const weatherCodes = {
                0: '‚òÄÔ∏è –Ø—Å–Ω–æ',
                1: 'üå§Ô∏è –ú–∞–ª–æ–æ–±–ª–∞—á–Ω–æ',
                2: '‚õÖ –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–±–ª–∞—á–Ω–æ—Å—Ç—å',
                3: '‚òÅÔ∏è –û–±–ª–∞—á–Ω–æ',
                45: 'üå´Ô∏è –¢—É–º–∞–Ω',
                48: 'üå´Ô∏è –ò–∑–º–æ—Ä–æ–∑—å',
                51: 'üå¶Ô∏è –ù–µ–±–æ–ª—å—à–∞—è –º–æ—Ä–æ—Å—å',
                53: 'üå¶Ô∏è –ú–æ—Ä–æ—Å—å',
                55: 'üåßÔ∏è –°–∏–ª—å–Ω–∞—è –º–æ—Ä–æ—Å—å',
                61: 'üåßÔ∏è –ù–µ–±–æ–ª—å—à–æ–π –¥–æ–∂–¥—å',
                63: 'üåßÔ∏è –î–æ–∂–¥—å',
                65: '‚õàÔ∏è –°–∏–ª—å–Ω—ã–π –¥–æ–∂–¥—å',
                71: 'üå®Ô∏è –ù–µ–±–æ–ª—å—à–æ–π —Å–Ω–µ–≥',
                73: '‚ùÑÔ∏è –°–Ω–µ–≥',
                75: '‚ùÑÔ∏è –°–∏–ª—å–Ω—ã–π —Å–Ω–µ–≥',
                95: '‚õàÔ∏è –ì—Ä–æ–∑–∞'
            };
            
            return {
                name: city.name,
                temp: Math.round(data.current.temperature_2m),
                feelsLike: Math.round(data.current.apparent_temperature),
                humidity: data.current.relative_humidity_2m,
                wind: data.current.wind_speed_10m,
                description: weatherCodes[data.current.weather_code] || 'üåç –ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ'
            };
        }

        function getComfortDescription(feelsLike) {
            if (feelsLike < -10) return 'ü•∂ –û—á–µ–Ω—å —Ö–æ–ª–æ–¥–Ω–æ';
            if (feelsLike < 0) return '‚ùÑÔ∏è –•–æ–ª–æ–¥–Ω–æ';
            if (feelsLike < 10) return 'üß• –ü—Ä–æ—Ö–ª–∞–¥–Ω–æ';
            if (feelsLike < 20) return 'üòä –ö–æ–º—Ñ–æ—Ä—Ç–Ω–æ';
            if (feelsLike < 28) return 'üå°Ô∏è –¢–µ–ø–ª–æ';
            if (feelsLike < 35) return 'üî• –ñ–∞—Ä–∫–æ';
            return '‚ô®Ô∏è –û—á–µ–Ω—å –∂–∞—Ä–∫–æ';
        }

        async function displayWeather() {
            const container = document.getElementById('weather-container');
            const updateTime = document.getElementById('update-time');
            
            try {
                const weatherData = await Promise.all(cities.map(city => getWeather(city)));
                
                container.className = 'weather-grid';
                container.innerHTML = weatherData.map(data => `
                    <div class="city-card">
                        <div class="city-name">${data.name}</div>
                        <div class="temp">${data.temp}¬∞C</div>
                        <div class="description">${data.description}</div>
                        <div class="feels-like">–û—â—É—â–∞–µ—Ç—Å—è –∫–∞–∫ ${data.feelsLike}¬∞C</div>
                        <div class="comfort">${getComfortDescription(data.feelsLike)}</div>
                        <div class="details">
                            <div class="detail-item">
                                <div class="detail-label">–í–ª–∞–∂–Ω–æ—Å—Ç—å</div>
                                <div class="detail-value">${data.humidity}%</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">–í–µ—Ç–µ—Ä</div>
                                <div class="detail-value">${data.wind} –∫–º/—á</div>
                            </div>
                        </div>
                    </div>
                `).join('');
                
                const now = new Date().toLocaleString('ru-RU', { 
                    timeZone: 'Asia/Shanghai',
                    hour: '2-digit',
                    minute: '2-digit',
                    day: '2-digit',
                    month: '2-digit',
                    year: 'numeric'
                });
                updateTime.textContent = `–û–±–Ω–æ–≤–ª–µ–Ω–æ: ${now} (–≤—Ä–µ–º—è –ö–∏—Ç–∞—è)`;
                
            } catch (error) {
                container.className = 'error';
                container.innerHTML = `<p>–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö: ${error.message}</p>`;
            }
        }

        displayWeather();
        setInterval(displayWeather, 600000); // –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 10 –º–∏–Ω—É—Ç
    </script>
</body>
</html>
